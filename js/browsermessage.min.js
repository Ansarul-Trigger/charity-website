var charity = charity || {};
charity.shared = charity.shared || {};
charity.shared.browsermessage = function() {
    return {
        cookieName: "accepted-legacy-browser-warning",
        init: function(b, c) {
            if ("true" !== charity.shared.cookie.getCookie(this.cookieName) && "" !== b) {
                var d = document.getElementById("legacy-browser-message");
                this.loadContent(b, c, d);
                document.body.className += " no-scroll";
                var a = document.getElementById("legacy-browser");
                a.className = "active";
                document.getElementById("legacy-browser-close").onclick = function() {
                    charity.shared.browsermessage.closeOverlay(a)
                }
            }
        },
        closeOverlay: function(b) {
            b.className =
                b.className.replace(/(?:^|\s)active(?!\S)/g, "");
            document.body.className = document.body.className.replace(/(?:^|\s)no-scroll(?!\S)/g, "");
            charity.shared.cookie.setCookie(this.cookieName, !0, 7)
        },
        loadContent: function(b, c, d) {
            var a = new XMLHttpRequest,
                f = "undefined" !== typeof XMLHttpRequest.DONE ? XMLHttpRequest.DONE : 4;
            a.onreadystatechange = function() {
                a.readyState == f && (200 == a.status ? d.innerHTML = a.responseText : console.log("An error occurred fetching the content"))
            };
            var e = "/jcr:content/par-1.html";
            c && (e += "?wcmmode\x3ddisabled");
            a.open("GET", b + e, !0);
            a.send()
        }
    }
}();